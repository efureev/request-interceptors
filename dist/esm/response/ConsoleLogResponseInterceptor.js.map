{"version":3,"file":"ConsoleLogResponseInterceptor.js","names":["errHandler","error","response","config","console","info","method","toUpperCase","request","responseURL","res","responseUrl","Promise","reject","successHandler","ConsoleLogResponseInterceptor","enable","options","extra"],"sources":["../../../src/response/ConsoleLogResponseInterceptor.ts"],"sourcesContent":["import type { ExtraProperties, LayerConfig } from '@feugene/layer-request'\nimport type { AxiosError, AxiosResponse } from 'axios'\n\nconst errHandler = (error: AxiosError) => {\n  if (!error.response?.config) {\n    return\n  }\n  console.info(\n    `\\t❌ [${error.response.config.method?.toUpperCase()}]  ${\n      error.response.request.responseURL || error.response.request.res.responseUrl\n    }`\n  )\n  return Promise.reject(error)\n}\n\nconst successHandler = (response: AxiosResponse): AxiosResponse => {\n  console.info(\n    `\\t✅ [${response.config.method?.toUpperCase()}]  ${\n      response.request.responseURL || response.request.res.responseUrl\n    }`\n  )\n  return response\n}\n\nconst ConsoleLogResponseInterceptor = function (enable: boolean = false) {\n  return enable ? (options: LayerConfig, extra: ExtraProperties) => [successHandler, errHandler] : null\n}\n\nexport default ConsoleLogResponseInterceptor\n"],"mappings":"AAGA,MAAMA,UAAU,GAAIC,KAAD,IAAuB;EACxC,IAAI,CAACA,KAAK,CAACC,QAAN,EAAgBC,MAArB,EAA6B;IAC3B;EACD;;EACDC,OAAO,CAACC,IAAR,CACG,QAAOJ,KAAK,CAACC,QAAN,CAAeC,MAAf,CAAsBG,MAAtB,EAA8BC,WAA9B,EAA4C,MAClDN,KAAK,CAACC,QAAN,CAAeM,OAAf,CAAuBC,WAAvB,IAAsCR,KAAK,CAACC,QAAN,CAAeM,OAAf,CAAuBE,GAAvB,CAA2BC,WAClE,EAHH;EAKA,OAAOC,OAAO,CAACC,MAAR,CAAeZ,KAAf,CAAP;AACD,CAVD;;AAYA,MAAMa,cAAc,GAAIZ,QAAD,IAA4C;EACjEE,OAAO,CAACC,IAAR,CACG,QAAOH,QAAQ,CAACC,MAAT,CAAgBG,MAAhB,EAAwBC,WAAxB,EAAsC,MAC5CL,QAAQ,CAACM,OAAT,CAAiBC,WAAjB,IAAgCP,QAAQ,CAACM,OAAT,CAAiBE,GAAjB,CAAqBC,WACtD,EAHH;EAKA,OAAOT,QAAP;AACD,CAPD;;AASA,MAAMa,6BAA6B,GAAG,UAAUC,MAAe,GAAG,KAA5B,EAAmC;EACvE,OAAOA,MAAM,GAAG,CAACC,OAAD,EAAuBC,KAAvB,KAAkD,CAACJ,cAAD,EAAiBd,UAAjB,CAArD,GAAoF,IAAjG;AACD,CAFD;;AAIA,eAAee,6BAAf"}