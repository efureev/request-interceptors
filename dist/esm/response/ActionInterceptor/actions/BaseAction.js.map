{"version":3,"file":"BaseAction.js","names":["BaseAction","executed","constructor","data","interceptorConfig","type","rawData","run","configLayer","response","shouldHandle","handle","done"],"sources":["../../../../../src/response/ActionInterceptor/actions/BaseAction.ts"],"sourcesContent":["import type { ActionInterceptorConfig } from '../ActionInterceptor'\nimport type { LayerConfig } from '@feugene/layer-request'\nimport type { AxiosResponse } from 'axios'\nimport type ResponseWrapper from '../../WrapperInterceptor/ResponseWrapper'\n\nexport interface RawDataType extends Record<PropertyKey, any> {\n  type: string\n}\n\nexport default class BaseAction {\n  private type: string\n  private executed: boolean = false\n\n  private rawData: RawDataType\n  private interceptorConfig: any\n\n  constructor(data: RawDataType, interceptorConfig: ActionInterceptorConfig) {\n    this.type = data.type\n    this.rawData = data\n    this.executed = false\n    this.interceptorConfig = interceptorConfig\n  }\n\n  public run(configLayer: LayerConfig, response: AxiosResponse | ResponseWrapper): void {\n    if (!this.shouldHandle()) {\n      return\n    }\n\n    if (this.handle(configLayer, response) !== false) {\n      this.done()\n    }\n  }\n\n  /**\n   * if return `false` - don't handle an action\n   */\n  protected handle(configLayer: LayerConfig, response: AxiosResponse | ResponseWrapper): false | void {\n  }\n\n  protected done(): void {\n    this.executed = true\n  }\n\n  protected shouldHandle(): boolean {\n    return true\n  }\n}\n"],"mappings":"AASA,eAAe,MAAMA,UAAN,CAAiB;EAEtBC,QAAQ,GAAY,KAAZ;;EAKhBC,WAAW,CAACC,IAAD,EAAoBC,iBAApB,EAAgE;IACzE,KAAKC,IAAL,GAAYF,IAAI,CAACE,IAAjB;IACA,KAAKC,OAAL,GAAeH,IAAf;IACA,KAAKF,QAAL,GAAgB,KAAhB;IACA,KAAKG,iBAAL,GAAyBA,iBAAzB;EACD;;EAEMG,GAAG,CAACC,WAAD,EAA2BC,QAA3B,EAA4E;IACpF,IAAI,CAAC,KAAKC,YAAL,EAAL,EAA0B;MACxB;IACD;;IAED,IAAI,KAAKC,MAAL,CAAYH,WAAZ,EAAyBC,QAAzB,MAAuC,KAA3C,EAAkD;MAChD,KAAKG,IAAL;IACD;EACF;EAED;AACF;AACA;;;EACYD,MAAM,CAACH,WAAD,EAA2BC,QAA3B,EAAoF,CACnG;;EAESG,IAAI,GAAS;IACrB,KAAKX,QAAL,GAAgB,IAAhB;EACD;;EAESS,YAAY,GAAY;IAChC,OAAO,IAAP;EACD;;AApC6B"}