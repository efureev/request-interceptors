{"version":3,"file":"index.js","names":["isEmpty","isObject","DownloadAction","BlobAction","RedirectAction","globalActionManager","BaseAction","add","buildAction","data","interceptorConfig","requestExtra","type","private","action","get"],"sources":["../../../../../src/response/ActionInterceptor/actions/index.ts"],"sourcesContent":["import { isEmpty, isObject } from '@feugene/mu'\nimport DownloadAction from './DownloadAction'\nimport BlobAction from './BlobAction'\nimport RedirectAction from './RedirectAction'\nimport globalActionManager from './ActionsManager'\nimport type { RawDataType } from './BaseAction'\nimport BaseAction from './BaseAction'\nimport { ActionInterceptorConfig } from '../ActionInterceptor'\nimport { Nullable } from '../../../global'\nimport { ExtraProperties } from '@feugene/layer-request'\n\nglobalActionManager.add('download', DownloadAction)\nglobalActionManager.add('blob', BlobAction)\nglobalActionManager.add('redirect', RedirectAction)\n\nexport { globalActionManager }\n\nexport function buildAction(\n  data: RawDataType & { private: boolean },\n  interceptorConfig: ActionInterceptorConfig,\n  requestExtra: ExtraProperties,\n): Nullable<BaseAction> {\n  if (!isObject(data) || isEmpty(data.type)) {\n    return\n  }\n\n  if (data.private) {\n    return\n  }\n\n  const action = <any>globalActionManager.get(data.type)\n  if (!action) {\n    return\n  }\n\n  return new action(data, interceptorConfig, requestExtra)\n}\n\n\nexport { BaseAction, DownloadAction, BlobAction, RedirectAction }\n"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,QAAlB,QAAkC,aAAlC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,mBAAP,MAAgC,kBAAhC;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AAKAD,mBAAmB,CAACE,GAApB,CAAwB,UAAxB,EAAoCL,cAApC;AACAG,mBAAmB,CAACE,GAApB,CAAwB,MAAxB,EAAgCJ,UAAhC;AACAE,mBAAmB,CAACE,GAApB,CAAwB,UAAxB,EAAoCH,cAApC;AAEA,SAASC,mBAAT;AAEA,OAAO,SAASG,WAAT,CACLC,IADK,EAELC,iBAFK,EAGLC,YAHK,EAIiB;EACtB,IAAI,CAACV,QAAQ,CAACQ,IAAD,CAAT,IAAmBT,OAAO,CAACS,IAAI,CAACG,IAAN,CAA9B,EAA2C;IACzC;EACD;;EAED,IAAIH,IAAI,CAACI,OAAT,EAAkB;IAChB;EACD;;EAED,MAAMC,MAAM,GAAQT,mBAAmB,CAACU,GAApB,CAAwBN,IAAI,CAACG,IAA7B,CAApB;;EACA,IAAI,CAACE,MAAL,EAAa;IACX;EACD;;EAED,OAAO,IAAIA,MAAJ,CAAWL,IAAX,EAAiBC,iBAAjB,EAAoCC,YAApC,CAAP;AACD;AAGD,SAASL,UAAT,EAAqBJ,cAArB,EAAqCC,UAArC,EAAiDC,cAAjD"}