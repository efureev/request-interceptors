{"version":3,"file":"BaseAction.js","names":["BaseAction","data","interceptorConfig","requestExtra","type","rawData","executed","configLayer","response","shouldHandle","handle","done"],"sources":["../../../../../src/response/ActionInterceptor/actions/BaseAction.ts"],"sourcesContent":["import type { ActionInterceptorConfig } from '../ActionInterceptor'\nimport type { ExtraProperties, LayerConfig } from '@feugene/layer-request'\nimport type { AxiosResponse } from 'axios'\nimport type ResponseWrapper from '../../WrapperInterceptor/ResponseWrapper'\n\nexport interface RawDataType extends Record<PropertyKey, any> {\n  type: string\n}\n\nexport default class BaseAction {\n  private type: string\n  private executed: boolean = false\n\n  private rawData: RawDataType\n  private interceptorConfig: any\n  private requestExtra: ExtraProperties\n\n  constructor(data: RawDataType, interceptorConfig: ActionInterceptorConfig, requestExtra: ExtraProperties) {\n    this.type = data.type\n    this.rawData = data\n    this.executed = false\n    this.interceptorConfig = interceptorConfig\n    this.requestExtra = requestExtra\n  }\n\n  public run(configLayer: LayerConfig, response: AxiosResponse | ResponseWrapper): void {\n    if (!this.shouldHandle()) {\n      return\n    }\n\n    if (this.handle(configLayer, response) !== false) {\n      this.done()\n    }\n  }\n\n  /**\n   * if return `false` - don't handle an action\n   */\n  protected handle(configLayer: LayerConfig, response: AxiosResponse | ResponseWrapper): false | void {\n  }\n\n  protected done(): void {\n    this.executed = true\n  }\n\n  protected shouldHandle(): boolean {\n    return true\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;IASqBA,U;EAQnB,oBAAYC,IAAZ,EAA+BC,iBAA/B,EAA2EC,YAA3E,EAA0G;IAAA;;IAAA,kCAN9E,KAM8E;;IACxG,KAAKC,IAAL,GAAYH,IAAI,CAACG,IAAjB;IACA,KAAKC,OAAL,GAAeJ,IAAf;IACA,KAAKK,QAAL,GAAgB,KAAhB;IACA,KAAKJ,iBAAL,GAAyBA,iBAAzB;IACA,KAAKC,YAAL,GAAoBA,YAApB;EACD;;;;WAED,aAAWI,WAAX,EAAqCC,QAArC,EAAsF;MACpF,IAAI,CAAC,KAAKC,YAAL,EAAL,EAA0B;QACxB;MACD;;MAED,IAAI,KAAKC,MAAL,CAAYH,WAAZ,EAAyBC,QAAzB,MAAuC,KAA3C,EAAkD;QAChD,KAAKG,IAAL;MACD;IACF;IAED;AACF;AACA;;;;WACE,gBAAiBJ,WAAjB,EAA2CC,QAA3C,EAAoG,CACnG;;;WAED,gBAAuB;MACrB,KAAKF,QAAL,GAAgB,IAAhB;IACD;;;WAED,wBAAkC;MAChC,OAAO,IAAP;IACD"}