{"version":3,"file":"index.js","names":["globalActionManager","add","DownloadAction","BlobAction","RedirectAction","buildAction","data","interceptorConfig","requestExtra","isObject","isEmpty","type","private","action","get"],"sources":["../../../../../src/response/ActionInterceptor/actions/index.ts"],"sourcesContent":["import { isEmpty, isObject } from '@feugene/mu'\nimport DownloadAction from './DownloadAction'\nimport BlobAction from './BlobAction'\nimport RedirectAction from './RedirectAction'\nimport globalActionManager from './ActionsManager'\nimport type { RawDataType } from './BaseAction'\nimport BaseAction from './BaseAction'\nimport { ActionInterceptorConfig } from '../ActionInterceptor'\nimport { Nullable } from '../../../global'\nimport { ExtraProperties } from '@feugene/layer-request'\n\nglobalActionManager.add('download', DownloadAction)\nglobalActionManager.add('blob', BlobAction)\nglobalActionManager.add('redirect', RedirectAction)\n\nexport { globalActionManager }\n\nexport function buildAction(\n  data: RawDataType & { private: boolean },\n  interceptorConfig: ActionInterceptorConfig,\n  requestExtra: ExtraProperties,\n): Nullable<BaseAction> {\n  if (!isObject(data) || isEmpty(data.type)) {\n    return\n  }\n\n  if (data.private) {\n    return\n  }\n\n  const action = <any>globalActionManager.get(data.type)\n  if (!action) {\n    return\n  }\n\n  return new action(data, interceptorConfig, requestExtra)\n}\n\n\nexport { BaseAction, DownloadAction, BlobAction, RedirectAction }\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;AAKAA,uBAAA,CAAoBC,GAApB,CAAwB,UAAxB,EAAoCC,uBAApC;;AACAF,uBAAA,CAAoBC,GAApB,CAAwB,MAAxB,EAAgCE,mBAAhC;;AACAH,uBAAA,CAAoBC,GAApB,CAAwB,UAAxB,EAAoCG,uBAApC;;AAIO,SAASC,WAAT,CACLC,IADK,EAELC,iBAFK,EAGLC,YAHK,EAIiB;EACtB,IAAI,CAAC,IAAAC,YAAA,EAASH,IAAT,CAAD,IAAmB,IAAAI,WAAA,EAAQJ,IAAI,CAACK,IAAb,CAAvB,EAA2C;IACzC;EACD;;EAED,IAAIL,IAAI,CAACM,OAAT,EAAkB;IAChB;EACD;;EAED,IAAMC,MAAM,GAAQb,uBAAA,CAAoBc,GAApB,CAAwBR,IAAI,CAACK,IAA7B,CAApB;;EACA,IAAI,CAACE,MAAL,EAAa;IACX;EACD;;EAED,OAAO,IAAIA,MAAJ,CAAWP,IAAX,EAAiBC,iBAAjB,EAAoCC,YAApC,CAAP;AACD"}